(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(61)},30:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(4),o=n.n(c),i=(n(30),n(7)),s=n(8),l=n(10),u=n(9),m=n(11),f=n(18),d=n(3),h=n(14),p=n.n(h),b=n(22),g=n(12),v=n(6),O=n(23),j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.props.animateFauxDOM(800),this.createBarChart()}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"createBarChart",value:function(){!function(e){v.e("#svg_ref").selectAll(".land").remove();var t=500,n=v.e("#svg_ref").insert("svg",".coverfit + *").attr("class","land").append("svg").attr("viewBox","0 0 ".concat(t," ").concat(t)),a=v.b().curve(v.a),r=v.c.apply(0,[-50,50]),c=v.d(-1,7).map(function(e){return[100*e,r()]}),o=c.map(function(e,n){return[e[0],e[1]+150-n*t*.08]}),i=c.reverse().map(function(e,n){return[e[0],e[1]+400-n*t*.03]}),s=a(i.concat(o));n.append("path").attr("opacity",.9).attr("fill","hsl(".concat(255*Math.random(),", 50%, 65%)")).attr("d","M0,0 v".concat(t," h").concat(t," v").concat(-t," z ").concat(s))}()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(r.a.Component),E=Object(O.withFauxDOM)(j),w=n(5),x=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(w.a)(Object(w.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(w.a)(Object(w.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleInput",value:function(e){this.refs.someName.formValue="",e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({formValue:e.target.formValue})}},{key:"handleSubmit",value:function(e){alert(this.props.formValue),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.props.getAlbums,className:"fixed-form",style:{marginBottom:"2rem"}},r.a.createElement("label",{htmlFor:"artistsearch",className:"ml-2"},"Search your Artist"),r.a.createElement("input",{className:"form__input w-100",type:"text",formValue:this.props.formValue,placeholder:this.props.formValue,onChange:this.handleChange,onClick:this.handleInput.bind(this),ref:"someName",name:"albumName",id:"artistsearch"})))}}]),t}(r.a.Component);var y=function(e){var t=this,n=function(){var e=Object(b.a)(p.a.mark(function e(t){var n,a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",t&&(t.preventDefault(),n=t.target.elements.albumName.value),e.next=4,fetch("https://ws.audioscrobbler.com/2.0/?method=artist.gettopalbums&artist=".concat(n||ge,"&api_key=afcfad19fac36b2d66cf2f17e37f66ed&format=json&limit=10"));case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,re(r.topalbums.album);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=Object(a.useRef)(),o=Object(a.useRef)(),i=Object(a.useRef)(),s=Object(a.useState)("Queen"),l=Object(d.a)(s,2),u=l[0],m=l[1],h=Object(a.useState)("Best Hits"),v=Object(d.a)(h,2),O=v[0],j=v[1],w=Object(a.useState)(!1),y=Object(d.a)(w,2),k=y[0],C=y[1],N=Object(a.useState)(!1),S=Object(d.a)(N,2),A=S[0],R=S[1],D=Object(a.useState)("80%"),B=Object(d.a)(D,2),M=B[0],T=B[1],F=Object(a.useState)("50%"),I=Object(d.a)(F,2),L=I[0],U=I[1],z=Object(a.useState)("50%"),V=Object(d.a)(z,2),_=V[0],P=V[1],X=Object(a.useState)("90%"),H=Object(d.a)(X,2),W=H[0],Y=H[1],J=Object(a.useState)(38),Q=Object(d.a)(J,2),G=Q[0],$=Q[1],q=Object(a.useState)(38),K=Object(d.a)(q,2),Z=K[0],ee=K[1],te=Object(a.useState)([]),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ce=Object(a.useState)([]),oe=Object(d.a)(ce,2),ie=oe[0],se=oe[1],le=Object(a.useState)(!1),ue=Object(d.a)(le,2),me=ue[0],fe=ue[1],de=Object(a.useState)(null),he=Object(d.a)(de,2),pe=he[0],be=he[1],ge="Queen";Object(a.useEffect)(function(){n(null);var e=localStorage.getItem("activeAlbum"),t=JSON.parse(e);re(t)},[]),Object(a.useEffect)(function(){be(ie)},[ie]);var ve=function(){E.createBarChart()},Oe=function(e){switch(e){case A:R(A);break;case k:C(k);break;case L:U(L);break;case M:T(M);break;case _:P(_);break;case W:Y(W)}},je=function(e,t){var n=function(e,t){var n=c.getBoundingClientRect(),a=e.clientX-n.left+20,r=e.clientY-n.top+40,o={};return"bottom"===t?o={isBottomDragging:!0,isTopDragging:!1,bottomX:"".concat(a,"px"),bottomY:"".concat(r,"px")}:"top"===t&&(o={isTopDragging:!0,isBottomDragging:!1,topX:"".concat(a,"px"),topY:"".concat(r,"px")}),o}(e,t);document.addEventListener("mousemove",function(e){return Ee(e,t)}),Oe(n)},Ee=function(e,n){if(k||A){var a={};"bottom"===n&&A?a=t.getStateObj(e,n):"top"===n&&k&&(a=t.getStateObj(e,n)),Oe(a)}},we=function(e){document.removeEventListener("mousemove",Ee),C(!1),R(!1)},xe=function(e){var t=document.createElement("canvas");return t.setAttribute("crossOrigin","anonymous"),e.setAttribute("crossOrigin","anonymous"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t.toDataURL("image/jpeg")},ye=ae,ke=new Image;ke.crossOrigin="anonymous",ke.src=ye,ke.setAttribute("crossOrigin","anonymous");var Ce={fontFamily:"'Poppins'",fill:"#FFF",userSelect:"none",zIndex:"40000000",fontWeight:600};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"sidebar d-flex flex-column"},r.a.createElement(g.c,{href:"/"},"Albumify"),r.a.createElement("p",{className:"text-center d-block"},"This is a fun project inspired by ReplaceCover.com"),r.a.createElement("p",{className:"text-center d-block"},r.a.createElement("a",{className:" mt-0 ",target:"_blank",rel:"noopener noreferrer",href:"mailto:hi@santih.me"}," Contact the creator")),r.a.createElement("div",{className:"row mt-auto text-center"},r.a.createElement("p",null,"Created by ",r.a.createElement("a",{className:" mt-0 white ",rel:"noopener noreferrer",target:"_blank",href:"//santih.me"},"santih.me ")," MIT Licensed"))),r.a.createElement("div",{className:"meme-gen-modal mx-auto w-100"},r.a.createElement(x,{getAlbums:n.bind(this),formValue:ge}),r.a.createElement("h2",{className:"my-4"},"Choose an Album and Go!"),r.a.createElement("div",{className:"pedidosya"},r.a.createElement("svg",{width:"100%",id:"svg_ref",ref:o,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"svg_container",viewBox:"0 0 500 500"},r.a.createElement("foreignObject",{x:0,y:0,width:"100%",height:"100%"},r.a.createElement(E,{onRef:function(){return i}})),r.a.createElement("image",{crossOrigin:"anonymous",ref:c,xlinkHref:pe,height:"100%",width:"100%",preserveAspectRatio:"xMidYMid slice",className:"svg2 coverfit"}),r.a.createElement("text",{style:Object(f.a)({},Ce,{zIndex:k?4:1,fontSize:G+"px"}),x:L,y:M,dominantBaseline:"middle",textAnchor:"middle",onMouseDown:function(e){return je(e,"top")},onMouseUp:function(e){return we()}},u),r.a.createElement("text",{style:Object(f.a)({},Ce,{fontSize:Z+"px"}),dominantBaseline:"middle",textAnchor:"middle",x:_,y:W,onMouseDown:function(e){return je(e,"bottom")},onMouseUp:function(e){return we()}},O)),r.a.createElement("div",{className:"meme-form mx-auto"},r.a.createElement("div",{className:"d-block"},r.a.createElement(g.a,null,r.a.createElement(g.b,{className:"d-block",for:"toptext"},"First line of Text"),r.a.createElement("button",{className:"counter-action decrement",onClick:function(e){$(G-2)}},"-"),r.a.createElement("input",{className:"form-control",type:"text",name:"toptext",id:"toptext",onClick:e.moveToBack,placeholder:"Artist name",onChange:function(e){m(e.currentTarget.value)}}),r.a.createElement("button",{className:"counter-action increment",onClick:function(e){$(G+2)}},"+"))),r.a.createElement(g.a,null,r.a.createElement(g.b,{for:"bottomtext"},"Second line of Text"),r.a.createElement("div",null,r.a.createElement("button",{className:"counter-action decrement",onClick:function(e){ee(Z-2)}},"-"),r.a.createElement("input",{className:"form-control",type:"text",name:"bottomtext",id:"bottomtext",onClick:e.moveToBack,placeholder:"Album name",onChange:function(e){j(e.currentTarget.value)}}),r.a.createElement("button",{className:"counter-action increment",onClick:function(e){ee(Z+2)}},"+"))),r.a.createElement("button",{onClick:function(){return function(){var e=o,t=(new XMLSerializer).serializeToString(e),n=document.createElement("canvas");n.setAttribute("id","canvas");var a=n.getContext("2d"),r=e.getBoundingClientRect();n.width=r.width,n.height=r.height;var c,i=document.createElement("img"),s=(new DOMParser).parseFromString(t,"image/svg+xml");(c="https://fonts.googleapis.com/css?family=Poppins:600",fetch(c).then(function(e){return e.text()}).then(function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t);for(var n=t.sheet,a=[],r=[],c=function(e){var t=function(e){var t=e.style.getPropertyValue("src")||e.style.cssText.match(/url\(.*?\)/g)[0];if(!t)return null;var n=t.split("url(")[1].split(")")[0];return{rule:e,src:t,url:n.replace(/"/g,"")}}(n.cssRules[e]);if(!t)return"continue";a.push(t),r.push(fetch(t.url).then(function(e){return e.blob()}).then(function(e){return new Promise(function(t){var n=new FileReader;n.onload=function(e){return t(n.result)},n.readAsDataURL(e)})}).then(function(e){return t.rule.cssText.replace(t.url,e)}))},o=0;o<n.cssRules.length;o++)c(o);return document.head.removeChild(t),Promise.all(r)})).then(function(e){var t="http://www.w3.org/2000/svg",r=s.createElementNS(t,"defs"),c=s.createElementNS(t,"style");c.innerHTML=e.join("\n"),r.appendChild(c),s.documentElement.appendChild(r);var o=(new XMLSerializer).serializeToString(s.documentElement),l="data:image/svg+xml;charset=utf8,"+encodeURIComponent(o);i.onload=function(e){URL.revokeObjectURL(this.src),a.drawImage(this,0,0),n.getContext("2d").drawImage(i,0,0);var t=n.toDataURL("image/jpeg"),r=document.createElement("a");r.download="album.jpg",r.href=t,document.body.appendChild(r),r.click()},i.src=l,i.setAttribute("crossOrigin","anonymous")}).catch(function(e){return console.log(e)})}()},className:"btn btn-success mt-3 w-100"},"Download Album Cover!")))),r.a.createElement("div",{className:"content"},ae&&ae.map(function(e,t){return r.a.createElement("div",{className:"image-holder",onClick:function(){return ve},key:"".concat(t)},0!==ae.length&&r.a.createElement("img",{style:{width:"100%",cursor:"pointer",height:"100%"},crossOrigin:"anonymous",alt:e.name,src:e.image[3]["#text"],className:"w-100 first-second",onClick:function(){return function(e){var t=ae[e],n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src=t.image[3]["#text"],n.onload=function(){se(xe(n))},fe(!me)}(t)},role:"presentation",key:t,title:e.name}))})))))},k=(n(56),n(58),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.9f637850.chunk.js.map